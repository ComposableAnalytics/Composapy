<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Api &mdash; Composapy  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Key" href="../composapy-key/index.html" />
    <link rel="prev" title="ObjectSet Methods" href="composapy-dataflow-models/composapy-dataflow-models-objectsetmethods.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Composapy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">DataFlow</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="composapy-dataflow-models/index.html">Models</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Api</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#composapy.dataflow.api.DataFlow"><code class="docutils literal notranslate"><span class="pre">DataFlow</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-key/index.html">Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-queryview/index.html">QueryView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-session.html">Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-contracts-table.html">Tables.Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composapy-contracts-filereference.html">FileReference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment-variables.html">Environment Variables</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Composapy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">DataFlow</a></li>
      <li class="breadcrumb-item active">Api</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/reference/composapy-dataflow/composapy-dataflow-api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-composapy.dataflow.api">
<span id="api"></span><h1>Api<a class="headerlink" href="#module-composapy.dataflow.api" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">composapy.dataflow.api.</span></span><span class="sig-name descname"><span class="pre">DataFlow</span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow" title="Permalink to this definition"></a></dt>
<dd><p>DataFlow static wrapper for the ApplicationService contract. It is used to
service user-level operations on an application-level library.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">composapy.dataflow.api</span> <span class="kn">import</span> <span class="n">DataFlow</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.create">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="composapy-dataflow-models/composapy-dataflow-models-dataflowobject.html#composapy.dataflow.models.DataFlowObject" title="composapy.dataflow.models.DataFlowObject"><span class="pre">DataFlowObject</span></a></span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.create" title="Permalink to this definition"></a></dt>
<dd><p>Takes a json formatted string <strong>or</strong> a local file path containing a valid json
(supplying arguments to both will raise exception). Imports the dataflow using the
dataflow service binding, and returns a DataFlowObject.
Note that creating does not save the dataflow, the .save() method must be called on
DataFlowObject to save it in your Composable database.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataflow_object</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="s2">&quot;simple-dataflow.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json</strong> – a json-formatted string</p></li>
<li><p><strong>file_path</strong> – path to json-formatted file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the unsaved Application contract wrapped in a DataFlowObject</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.get">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataflow_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="composapy-dataflow-models/composapy-dataflow-models-dataflowobject.html#composapy.dataflow.models.DataFlowObject" title="composapy.dataflow.models.DataFlowObject"><span class="pre">DataFlowObject</span></a></span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.get" title="Permalink to this definition"></a></dt>
<dd><p>Returns the wrapped Application contract inside a DataFlowObject.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataflow_object</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">123456</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dataflow_id</strong> – a valid(saved) Composable dataflow id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Application contract wrapped in a DataFlowObject</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.get_run">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="composapy-dataflow-models/composapy-dataflow-models-dataflowrun.html#composapy.dataflow.models.DataFlowRun" title="composapy.dataflow.models.DataFlowRun"><span class="pre">DataFlowRun</span></a></span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.get_run" title="Permalink to this definition"></a></dt>
<dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataflow_run</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="mi">654321</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>run_id</strong> – Composable dataflow run id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the wrapped ExecutionState contract inside a DataFlowRun</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.run">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataflow_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="composapy-dataflow-models/composapy-dataflow-models-dataflowrun.html#composapy.dataflow.models.DataFlowRun" title="composapy.dataflow.models.DataFlowRun"><span class="pre">DataFlowRun</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.run" title="Permalink to this definition"></a></dt>
<dd><p>Runs a dataflow from the dataflow id (an invalid id will cause this method to return None).
Any external modules (external int, table, file) that require outside input to run can be
added using a dictionary with the module input’s name and corresponding contract.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataflow_run</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">123456</span><span class="p">)</span>
<span class="n">dataflow_run</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">123456</span><span class="p">,</span> <span class="n">external_inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;external_int_input_name&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataflow_id</strong> – a valid(saved) Composable dataflow id</p></li>
<li><p><strong>external_inputs</strong> – If there are any external inputs in the DataFlow, you can supply
them via <cite>external_inputs[“key”] = value</cite>. It takes the external input name as a key and the
external input value as value. You can find more about external input modules
<a class="reference external" href="https://docs.composable.ai/en/latest/DataFlows/06.DataFlow-Reuse/#creation">here</a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the wrapped ExecutionState contract inside a DataFlowRun</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.run_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.run_status" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves run status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>run_id</strong> – Composable dataflow run id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="composapy.dataflow.api.DataFlow.wait_for_run_execution">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wait_for_run_execution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#composapy.dataflow.api.DataFlow.wait_for_run_execution" title="Permalink to this definition"></a></dt>
<dd><p>Waits until run has finished. Returns a dict with keys “execution_status”
and “run_id”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>run_id</strong> – Composable dataflow run id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>status of the execution, ExecutionStatus</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="composapy-dataflow-models/composapy-dataflow-models-objectsetmethods.html" class="btn btn-neutral float-left" title="ObjectSet Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../composapy-key/index.html" class="btn btn-neutral float-right" title="Key" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Composable Analytics, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>